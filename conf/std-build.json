{
    "heckle": {
        "args": [ "source", "target" ],
        "action": "run npx heckle build {source} {target}"
    },
    "webpack": {
        "args": [ "source", "target" ],
        "action": "run npx webpack --env.SOURCE={source} --env.TARGET={target}"
    },
    "build": {
        "args": [ "source", "target" ],
        "actions": [
            "heckle build {source} {target}",
            "webpack {source} {target}"
        ]
    },
    "build-from-git": {
        "args": [ "source", "target" ],
        "actions": [
            "git-clone {source}",
            "git-clone {target}",
            "build {source} {target}",
            "write-build-record {source} {target}",
            "git-push {target}"
        ]
    },
    "cli:serve": {
        "args": [ "source", "target" ],
        "action": "start-server"
    },
    "cli:build": {
        "args": [ "source", "target" ],
        "vars": {
            "source": ".",
            "target": "_site"
        },
        "action": "build {source} {target}"
    },
    "cli:deploy": {
        "args": [ "source", "target" ],
        "vars": {
            "source": "master",
            "target": "test"
        },
        "actions": [
            "temp-dir workspace",
            "build-from-git {source} {target}"
        ]
    },
    "cli:release": {
        "args": [ "source", "target" ],
        "vars": {
            "source": "test",
            "target": "public"
        },
        "actions": [
            "temp-dir workspace",
            "git-clone {target}",
            "git-merge {source} {target}",
            "git-push {target}"
        ]
    }
}

