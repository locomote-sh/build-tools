{
    "heckle": {
        "args": [ "source", "target" ],
        "action": "npx heckle build {source} {target}"
    },
    "webpack": {
        "args": [ "source", "target" ],
        "action": "npx webpack --env.SOURCE={source} --env.TARGET={target}"
    },
    "webapp-build": {
        "args": [ "source", "target" ],
        "actions": [
            "npx make-pwa-images {source} {target}",
            "npx make-sw {source} {target}",
            "npx make-html-header {source} {target} -o _include/locomote-header.html",
            "npx make-web-manifest {source} {target}"
        ]
    },
    "build": {
        "args": [ "source", "target" ],
        "actions": [
            "webapp-build {source} {target}",
            "heckle {source} {target}",
            "webpack {source} {target}"
        ]
    },
    "build-from-git": {
        "args": [ "source", "target" ],
        "actions": [
            "git-clone {source}",
            "git-clone {target}",
            "build {source} {target}",
            "write-build-record {source} {target}",
            "git-push {target}"
        ]
    },
    "cli:serve": {
        "args": [ "source", "target" ],
        "vars": {
            "source": ".",
            "target": "_site"
        },
        "action": "start-server {source} {target}"
    },
    "cli:build": {
        "args": [ "source", "target" ],
        "vars": {
            "source": ".",
            "target": "_site"
        },
        "action": "build {source} {target}"
    },
    "cli:deploy": {
        "args": [ "source", "target" ],
        "vars": {
            "source": "master",
            "target": "test"
        },
        "actions": [
            "temp-dir workspace",
            "build-from-git {source} {target}"
        ]
    },
    "cli:release": {
        "args": [ "source", "target" ],
        "vars": {
            "source": "test",
            "target": "public"
        },
        "actions": [
            "temp-dir workspace",
            "git-clone {target}",
            "git-merge {source} {target}",
            "git-push {target}"
        ]
    }
}

